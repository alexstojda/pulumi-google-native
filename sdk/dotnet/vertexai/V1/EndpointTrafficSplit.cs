// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.GoogleNative.vertexai.V1
{
    [GoogleNativeResourceType("google-native:vertexai/v1:EndpointTrafficSplit")]
    public partial class EndpointTrafficSplit : global::Pulumi.CustomResource
    {
        /// <summary>
        /// The endpoint for the resource
        /// </summary>
        [Output("endpoint")]
        public Output<string?> Endpoint { get; private set; } = null!;

        /// <summary>
        /// Used to perform consistent read-modify-write updates. If not set, a blind "overwrite" update happens.
        /// </summary>
        [Output("etag")]
        public Output<string?> Etag { get; private set; } = null!;

        /// <summary>
        /// The location for the resource
        /// </summary>
        [Output("location")]
        public Output<string?> Location { get; private set; } = null!;

        /// <summary>
        /// The project for the resource
        /// </summary>
        [Output("project")]
        public Output<string?> Project { get; private set; } = null!;

        /// <summary>
        /// A map from a DeployedModel's ID to the percentage of this Endpoint's traffic that should be forwarded to that DeployedModel. If a DeployedModel's ID is not listed in this map, then it receives no traffic. The traffic percentage values must add up to 100, or map must be empty if the Endpoint is to not accept any traffic at a moment.
        /// </summary>
        [Output("trafficSplit")]
        public Output<ImmutableArray<Outputs.EndpointTrafficSplitTrafficSplit>> TrafficSplit { get; private set; } = null!;


        /// <summary>
        /// Create a EndpointTrafficSplit resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public EndpointTrafficSplit(string name, EndpointTrafficSplitArgs args, CustomResourceOptions? options = null)
            : base("google-native:vertexai/v1:EndpointTrafficSplit", name, args ?? new EndpointTrafficSplitArgs(), MakeResourceOptions(options, ""))
        {
        }

        private EndpointTrafficSplit(string name, Input<string> id, CustomResourceOptions? options = null)
            : base("google-native:vertexai/v1:EndpointTrafficSplit", name, null, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                ReplaceOnChanges =
                {
                    "endpoint",
                    "etag",
                    "location",
                    "project",
                },
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing EndpointTrafficSplit resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static EndpointTrafficSplit Get(string name, Input<string> id, CustomResourceOptions? options = null)
        {
            return new EndpointTrafficSplit(name, id, options);
        }
    }

    public sealed class EndpointTrafficSplitArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The endpoint for the resource
        /// </summary>
        [Input("endpoint", required: true)]
        public Input<string> Endpoint { get; set; } = null!;

        /// <summary>
        /// The location for the resource
        /// </summary>
        [Input("location", required: true)]
        public Input<string> Location { get; set; } = null!;

        /// <summary>
        /// The project for the resource
        /// </summary>
        [Input("project", required: true)]
        public Input<string> Project { get; set; } = null!;

        [Input("trafficSplit", required: true)]
        private InputList<Inputs.EndpointTrafficSplitTrafficSplitArgs>? _trafficSplit;

        /// <summary>
        /// A map from a DeployedModel's ID to the percentage of this Endpoint's traffic that should be forwarded to that DeployedModel. If a DeployedModel's ID is not listed in this map, then it receives no traffic. The traffic percentage values must add up to 100, or map must be empty if the Endpoint is to not accept any traffic at a moment.
        /// </summary>
        public InputList<Inputs.EndpointTrafficSplitTrafficSplitArgs> TrafficSplit
        {
            get => _trafficSplit ?? (_trafficSplit = new InputList<Inputs.EndpointTrafficSplitTrafficSplitArgs>());
            set => _trafficSplit = value;
        }

        public EndpointTrafficSplitArgs()
        {
        }
        public static new EndpointTrafficSplitArgs Empty => new EndpointTrafficSplitArgs();
    }
}
